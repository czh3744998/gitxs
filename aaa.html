<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style type="text/css">
        html,body{margin:0;padding:0;}
        div{margin:0;padding:0;}
        .odiv{width:200px; height:200px; background:#f00; position:relative; left:-200px; top:100px;}
        .sdiv{width:20px; height:60px; background:#00f; position:absolute; top:70px; right:-20px;}
    </style>
</head>
<body>

    <div id="odiv" class="odiv">
        <div id="sdiv" class="sdiv">
            <p>没冲突吧</p>
            冲突了么？
        </div>


    </div>
</body>
<script language="javascript">
    window.onload = function(){
        var odiv = document.getElementById('odiv');
        odiv.onclick = function(){
            startMover(0);
        }
        odiv.onmouseout = function(){
            startMover(-200);
        }
    }
    var timer = null;
    function startMover(itarget){//目标值
        clearInterval(timer);//执行当前动画同时清除之前的动画
        var odiv = document.getElementById('odiv');
        timer = setInterval(function(){
            var speed = 0;
            if(odiv.offsetLeft > itarget){
                speed = -1;
            }
            else{
                speed = 1;
            }
            if(odiv.offsetLeft == itarget){
                clearInterval(timer);
            }
            else{
                odiv.style.left = odiv.offsetLeft+speed+'px';
            }
        },10);
    }
    //注明：offsetWidth = width+padding+border
    //offsetHeight = height+padding+border
    //offsetWidth=(border-width)*2+(padding-left)+(width)+(padding-right)
    //offsetHeight=(border-width)*2+(padding-top)+(height)+(padding-bottom)
    /*
    offsetLeft=(offsetParent的padding-left)+(中间元素的offsetWidth)+(当前元素的margin-left)。
    offsetTop=(offsetParent的padding-top)+(中间元素的offsetHeight)+(当前元素的margin-top)。
    当offsetParent为body时情况比较特殊:
    在IE8/9/10及Chrome中，offsetLeft = (body的margin-left)+(body的border-width)+(body的padding-left)+(当前元素的margin-left)。
    在FireFox中，offsetLeft = (body的margin-left)+(body的padding-left)+(当前元素的margin-left)。
    offsetParent属性返回一个对象的引用，这个对象是距离调用offsetParent的元素最近的（在包含层次中最靠近的），并且是已进行过CSS定位的容器元素。 如果这个容器元素未进行CSS定位, 则offsetParent属性的取值为根元素的引用。
    总的来说两条规则：
    1、如果当前元素的父级元素没有进行CSS定位（position为absolute或relative），offsetParent为body。
    2、如果当前元素的父级元素中有CSS定位（position为absolute或relative），offsetParent取最近的那个父级元素。
    */
</script>
<<<<<<< HEAD
</html>

=======
>>>>>>> e6373efd99b59cbd286acb79d9f400fa7b5f2ab1
